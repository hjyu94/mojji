<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="fragments.html :: basic-head"></th:block>
    <th:block th:include="fragments.html :: navbar-head"></th:block>
    <style>
        #myCarousel, .carousel-item>img {
            width: 600px;
            height: 400px;
        }
    </style>
</head>
<body>
<nav th:replace="fragments.html :: main-nav"></nav>
<section class="container">
    <div class="row justify-content-center">
        <div class="col-lg-2 col-3">
            <div class="list-group">
                <a href="#" class="list-group-item disabled">Disabled item</a>
                <a href="#" class="list-group-item disabled">Disabled item</a>
                <a href="#" class="list-group-item disabled">Disabled item</a>
            </div>
        </div>
        <div class="col-lg-8 col-9">
            <h3 class="text-center">
                <span class="text-danger" th:text='${"[" + post.category.title + "] "}'></span>
                <span th:text="${post.title}"></span>
            </h3>
            <hr/>
            <div class="d-flex justify-content-between">
                <div class="dropdown">
                    <span class="dropdown-toggle" data-toggle="dropdown">
                        <svg th:if="${#strings.isEmpty(post.account.profileImage)}" th:data-jdenticon-value="${#authentication.name}"
                        width="25" height="25" class="rounded border bg-light"></svg>
                        <img th:if="${!#strings.isEmpty(post.account.profileImage)}" th:src="${account.profileImage}"
                        width="25" height="25" class="rounded border"/>
                        <strong th:text="${post.account.nickname}"></strong>
                    </span>
                    <div class="dropdown-menu mt-2">
                      <a class="dropdown-item" th:href="@{'/account/profile/' + ${post.account.nickname}}">í”„ë¡œí•„ ë³´ê¸°</a>
                      <a class="dropdown-item" href="#">ìª½ì§€ ë³´ë‚´ê¸°</a>
                    </div>
                </div>
                <div>
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                    <span th:text="${#temporals.format(post.createdDateTime, 'yyyy-MM-dd')}"></span>
                    | <i class="fa fa-eye" aria-hidden="true"></i>
                    <span th:text="${post.lookCount}"></span>
                </div>
            </div>
            <div class="d-flex justify-content-end">
                <div class="row">
                    ðŸš‰ ì„ í˜¸í•˜ëŠ” ìœ„ì¹˜ :
                    <p class="mr-2" th:each="station: ${post.stations}" data-toggle="tooltip" data-placement="bottom" th:title='${station.region + "-" + station.line}'>
                        <u th:text="${station.name + 'ì—­'}"></u>
                    </p>
                </div>
            </div>

            <div class="mt-3 row justify-content-center">
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ul class="carousel-indicators">
                        <li th:each="num: ${#numbers.sequence(0,#sets.size(post.images)-1)}" data-target="#myCarousel" th:data-slide-to="${num}" th:class="${num == 0}? active"></li>
                    </ul>
                    <!-- The slideshow -->
                    <div class="carousel-inner">
                        <div th:each="img, i: ${post.images}" class="carousel-item" th:classappend="${i.index == 0}? active">
                            <img th:src='${img}'>
                        </div>
                    </div>
                    <!-- Left and right controls -->
                    <a class="carousel-control-prev" href="#myCarousel" data-slide="prev">
                        <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    </a>
                    <a class="carousel-control-next" href="#myCarousel" data-slide="next">
                        <i class="fa fa-arrow-right" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
            <hr/>
            <div th:utext="${post.body}"></div>
            <hr/>
            <div class="d-flex justify-content-end" th:if="${#authentication.principal != 'anonymousUser' && post.isCreatedBy(#authentication.principal)}">
                <button class="btn btn-primary p-2 mr-2">ìˆ˜ì •</button>
                <button class="btn btn-danger p-2">ì‚­ì œ</button>
            </div>
        </div>
    </div>
</section>
<footer th:replace="fragments.html :: footer"></footer>
<th:block th:replace="fragments.html :: basic-script"></th:block>
<th:block th:replace="fragments.html :: tooltip-script"></th:block>
</body>
</html>
